extends ../layout

block content
  .page-header
    h2 üì¶ Gesti√≥n de Productos
    a.btn.btn-primary(href='/products/new') + Nuevo Producto
  
  if success
    .alert.alert-success= success
  
  if error
    .alert.alert-error= error
  
  if products && products.length > 0
    .products-grid
      each product in products
        .product-card
          .product-image
            if product.image
              img(src=`/uploads/${product.image}`, alt=product.name, onerror="this.src='/css/placeholder.png'")
            else
              .placeholder-img üêü
          
          .product-info
            h3= product.name
            p.category= product.category
            p.description= product.description
            .product-meta
              span.price $#{product.price.toFixed(2)}
              span.stock Stock: #{product.stock}
          
          .product-actions
            a.btn.btn-small.btn-secondary(href=`/products/${product._id}/edit`) Editar
            form.inline-form(method='POST', action=`/products/${product._id}/delete`, onsubmit="return confirm('¬øEliminar este producto?')")
              button.btn.btn-small.btn-danger(type='submit') Eliminar
  else
    .empty-state
      p üêß No hay productos todav√≠a
      p Paula, ¬°es hora de agregar algunos pescados!
      a.btn.btn-primary(href='/products/new') Crear Primer Producto
